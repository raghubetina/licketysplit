<%# Accepts: check (required) %>
<div id="grand_total" class="card-footer py-3 px-3">
  <div class="d-flex justify-content-between h4 mb-0">
    <strong>Grand total</strong>
    <strong><%= format_currency(check.calculated_total, check.currency_symbol) %></strong>
  </div>
  <% tip_amount = check.has_tip? ? check.tip.amount : 0 %>
  <% if check.grand_total.present? && check.grand_total != check.calculated_total && check.grand_total != check.calculated_total - tip_amount %>
    <div class="text-warning-emphasis mt-2">
      <i class="bi bi-exclamation-triangle"></i> Discrepancy: receipt showed <%= format_currency(check.grand_total, check.currency_symbol) %>. Consider double-checking everything.
    </div>
  <% end %>
</div>
