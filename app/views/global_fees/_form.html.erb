<%# Accepts: global_fee (required), check (required) %>

<li id="<%= dom_id(global_fee) %>" class="list-group-item py-3 px-3">
  <%= form_with model: [check, global_fee], class: "global-fee-form" do |f| %>
    <div class="row g-2 align-items-end mb-2">
      <div class="col">
        <%= f.text_field :description, class: "form-control form-control-sm", placeholder: "Description" %>
      </div>
      <div class="col-auto">
        <div class="input-group input-group-sm">
          <span class="input-group-text">$</span>
          <%= f.number_field :amount, step: 0.01, min: 0, class: "form-control form-control-sm", style: "width: 80px;" %>
        </div>
      </div>
      <div class="col-auto">
        <div class="d-flex gap-1">
          <%= link_to "Cancel", check_global_fee_path(check, global_fee), class: "btn btn-sm btn-secondary", data: { turbo_stream: true } %>
          <%= f.submit "Save", class: "btn btn-sm btn-primary" %>
        </div>
      </div>
    </div>

    <div class="d-flex gap-2">
      <% GlobalFee.fee_types.keys.each do |fee_type| %>
        <div class="form-check form-check-inline mb-0">
          <%= f.radio_button :fee_type, fee_type, class: "form-check-input" %>
          <%= f.label "fee_type_#{fee_type}", fee_type.capitalize, class: "form-check-label" %>
        </div>
      <% end %>
    </div>
  <% end %>
</li>
